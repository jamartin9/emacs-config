<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>julia</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="org-default.css" />
</head>
<body>
<div id="content" class="container content">
<nav class="navbar is-black" id="org7d1a27f">
<div class="navbar-brand" id="org54652b0">
<div class="navbar-item" id="org12ba1dc">
<p>
<a href="index.html#ID-3a34d6d7-6f37-4573-b20e-3c93894e54ac">üè†</a>
</p>

</div>

</div>
<div class="navbar-menu" id="orgef7924a">
<div class="navbar-start" id="org85a9cfb">
<div class="navbar-item" id="org65b323f">
<p>
<a href="site_map.html#ID-30ea5e38-9b41-4bcd-8631-76821e93e294">üó∫</a>
</p>

</div>

</div>
<div class="navbar-end" id="org918ce70">

</div>

</div>
</nav>
<div id="outline-container-org5d7c70e" class="outline-2">
<h2 id="org5d7c70e">julia</h2>
<div class="outline-text-2" id="text-org5d7c70e">
</div>
<div id="outline-container-orgc124fa0" class="outline-3">
<h3 id="orgc124fa0">julia notes</h3>
<div class="outline-text-3" id="text-orgc124fa0">
<ul class="org-ul">
<li>some <a href="https://yuri.is/not-julia/">heisenbugs</a></li>
<li>lisp for hoisting (used to be guile in early versions) <code>julia --lisp</code></li>
<li>SciML ecosystem
<ul class="org-ul">
<li><a href="https://github.com/SciML/DiffEqFlux.jl">universal differential equations</a> models</li>
</ul></li>
<li>automatic differentiation and optimization libraries turn grammar into symbolic variables</li>
</ul>
<div class="org-src-container">
<pre class="src src-julia" id="org8e51611">using ModelingToolkit, GalacticOptim

@variables x y
@parameters a b
loss = (a - x)^2 + b * (y - x^2)^2
sys = OptimizationSystem(loss,[x,y],[a,b])

u0 = [
    x=&gt;1.0
    y=&gt;2.0
]
p = [
    a =&gt; 6.0
    b =&gt; 7.0
]

prob = OptimizationProblem(sys,u0,p,grad=true,hess=true)
solve(prob,Newton())
</pre>
</div>
<div class="org-src-container">
<pre class="src src-julia" id="orgbba1229">@enum MatchType unmatched=0 matched=1 unstable=2 nm1gen=3 nm1=4 nm2=5
mutable struct Element
    x::Int
    y::Int
    l::Int
    r::Int
    matchtype::MatchType
   nm2gen::Bool
   nm2cpointer::Element
   nm2rpointer::Element
   lpointer::Element
   Element(x,y,l,r) = (me = new();
                       me.x = x; me.y = y; me.l = l; me.r = r; me.matchtype = unmatched; me.nm2gen = false;
                       me.nm2cpointer = me;
                       me.nm2rpointer = me;
                       me.lpointer = me;
                       me)

end

using Random
"""
create n x n Element matrix with cartesian coordinates and random l/r values
"""
function createMatrix(n::Int)
    matrix = Array{Element}(undef, n, n) # nxn matrix
    rng = MersenneTwister(n);
    randomMens = shuffle(rng, Vector(1:n)) # random prefs for each row/col
    randomWomens = shuffle(rng, Vector(1:n))# FUTURE add by col instead of row
    x = 1;
    y = 1;
    for i in eachindex(matrix)
        matrix[i] = Element(x, y, randomMens[x], randomWomens[x])
        x = x + 1
        if (x &gt; n)
            x = 1
            y = y + 1
            randomMens = shuffle(rng, Vector(1:n)) # random prefs for new row/col
            randomWomens = shuffle(rng, Vector(1:n))
        end
    end
    matrix # return built up matrix
end

"""
prints each element of the array
"""
function printElements(matrix::Array{Element})
    for i in eachindex(matrix)
        print("\nElement: ", i,
              " x is ", matrix[i].x,
              " y is ", matrix[i].y,
              " l is ", matrix[i].l,
              " r is ", matrix[i].r,
              #" matchtype is ", matrix[i].matchtype,
              #" nm2gen is ", matrix[i].nm2gen,
              #" lpointer is ", matrix[i].lpointer,
              #" cpointer is ", matrix[i].nm2cpointer,
              #" rpointer is ", matrix[i].nm2rpointer,
              " \n")
    end
end

rng = rand((2,10))
print("RNG is : ", rng, " \n")

matrix = createMatrix(rng)
printElements(matrix)
</pre>
</div>
</div>
</div>
</div>
</div>
</body>
</html>