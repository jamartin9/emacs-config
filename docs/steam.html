<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>steam</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="org-default.css" />
</head>
<body>
<div id="content" class="container content">
<nav class="navbar is-black" id="orgf354f2c">
<div class="navbar-brand" id="org570b0bc">
<div class="navbar-item" id="orgae11a5a">
<p>
<a href="index.html#ID-3a34d6d7-6f37-4573-b20e-3c93894e54ac">üè†</a>
</p>

</div>

</div>
<div class="navbar-menu" id="org67033da">
<div class="navbar-start" id="orgec55aff">
<div class="navbar-item" id="orgf5d23f3">
<p>
<a href="site_map.html#ID-30ea5e38-9b41-4bcd-8631-76821e93e294">üó∫</a>
</p>

</div>

</div>
<div class="navbar-end" id="org72c00dc">

</div>

</div>
</nav>
<div id="outline-container-org9da583d" class="outline-2">
<h2 id="org9da583d">Steam</h2>
<div class="outline-text-2" id="text-org9da583d">
<ul class="org-ul">
<li><a href="https://gitlab.com/Mr_Goldberg/goldberg_emulator">steam emulator</a></li>
</ul>
</div>
<div id="outline-container-orgd476833" class="outline-3">
<h3 id="orgd476833">steam proton notes</h3>
<div class="outline-text-3" id="text-orgd476833">
<ul class="org-ul">
<li>pressure vessel added in &gt; 5.10
<ul class="org-ul">
<li>conflicting glibc version for bash link so had to revert/build custom</li>
</ul></li>
<li><a href="https://github.com/ValveSoftware/steam-for-linux/issues/1890">does not respect XDG vars</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orge3bfdd9" class="outline-2">
<h2 id="orge3bfdd9">Lutris</h2>
<div class="outline-text-2" id="text-orge3bfdd9">
<ul class="org-ul">
<li>installers battle.net</li>
</ul>
</div>
</div>
<div id="outline-container-org0dc1a1f" class="outline-2">
<h2 id="org0dc1a1f">Protonfixes for some games</h2>
<div class="outline-text-2" id="text-org0dc1a1f">
</div>
<div id="outline-container-org659e7e3" class="outline-3">
<h3 id="org659e7e3">Link localfixes</h3>
<div class="outline-text-3" id="text-org659e7e3">
<div class="org-src-container">
<pre class="src src-elisp" id="orga8ac862">(ignore-errors (let* ((proton-dir (concat (if (getenv "XDG_CONFIG_HOME") (file-name-as-directory (getenv "XDG_CONFIG_HOME"))
                                     (file-name-as-directory (concat (file-name-as-directory (getenv "HOME")) ".config")))
                                   "protonfixes"))
                      (localfixes-dir (concat (file-name-as-directory proton-dir) "localfixes")))
  (if (not (or (file-exists-p localfixes-dir) (file-symlink-p localfixes-dir)))
      (progn (make-directory localfixes-dir 1)
             (set-file-modes localfixes-dir #o700)))
  (if (not (or (file-exists-p (concat (file-name-as-directory localfixes-dir) "7110.py"))
               (file-symlink-p (concat (file-name-as-directory localfixes-dir) "7110.py"))))
      (make-symbolic-link (concat (file-name-directory (or load-file-name buffer-file-name)) "7110.py")
                          (concat (file-name-as-directory localfixes-dir) "7110.py") 1))
  (if (not (or (file-exists-p (concat (file-name-as-directory localfixes-dir) "22380.py"))
               (file-symlink-p (concat (file-name-as-directory localfixes-dir) "22380.py"))))
      (make-symbolic-link (concat (file-name-directory (or load-file-name buffer-file-name)) "22380.py")
                          (concat (file-name-as-directory localfixes-dir) "22380.py") 1))
  ))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd376005" class="outline-3">
<h3 id="orgd376005">Jade Empire (process affinity)</h3>
<div class="outline-text-3" id="text-orgd376005">
<div class="org-src-container">
<pre class="src src-python" id="org2af84bd">""" Game fix Jade Empire: Special Edition
"""
#pylint: disable=C0103

import threading
import os
import subprocess
from protonfixes.logger import log

def _taskset():
    """Use taskset to set mask of JadeEmpire.exe"""
    # avoiding an external library as proc should be available on linux
    again = True
    badexes = ['JadeEmpire.exe']
    while again:
        pids = [pid for pid in os.listdir('/proc') if pid.isdigit()]
        for pid in pids:
            try:
                with open(os.path.join('/proc', pid, 'cmdline'), 'rb') as proc_cmd:
                    cmdline = proc_cmd.read()
                    for exe in badexes:
                        if exe in cmdline.decode():
                            mask = os.sched_getaffinity(pid)
                            while mask != {0} :
                                mask = os.sched_getaffinity(pid)
                            res = os.sched_setaffinity(pid, {0,1,2,3})
                            again = False
            except IOError:
                continue

@DeprecatedSince("5.0-3")
def main():
    """ Needs pid mask set on launch """
    thread = threading.Thread(target=_taskset, args=())
    thread.daemon = False
    thread.start()
</pre>
</div>
</div>
</div>

<div id="outline-container-orgadfb7cc" class="outline-3">
<h3 id="orgadfb7cc">Fallout New Vegas (audio/vk issues)</h3>
<div class="outline-text-3" id="text-orgadfb7cc">
<div class="org-src-container">
<pre class="src src-python" id="org19d8c2b">""" Game fix for Fallout: New Vegas
"""
# pylint: disable=C0103
from protonfixes import util
from protonfixes.protonversion import DeprecatedSince

@DeprecatedSince("5.0-3")
def main():
    """ Use D3D9, quartz for audio, disable AA &amp; water reflections/refractions
    """
    # DX9 game
    util.disable_dxvk()

    # quartz for audio
    util.protontricks('quartz')

    # Graphics and HUD glitches when
    # AntiAliasing and Water Reflections/Refractions are enabled
    # https://github.com/ValveSoftware/Proton/issues/356
    user_opts = '''
    [Display]
    iMultiSample=0

    [Water]
    bUseWaterReflections=0
    bUseWaterRefractions=0
    '''
    util.set_ini_options(user_opts, 'My Games/FalloutNV/FalloutPrefs.ini')
</pre>
</div>
</div>
</div>
</div>
</div>
</body>
</html>