<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>emacs</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="org-default.css" />
</head>
<body>
<div id="content" class="container content">
<nav class="navbar is-black" id="org0b09501">
<div class="navbar-brand" id="orgd7a9d4f">
<div class="navbar-item" id="orgacc08ea">
<p>
<a href="index.html#ID-3a34d6d7-6f37-4573-b20e-3c93894e54ac">üè†</a>
</p>

</div>

</div>
<div class="navbar-menu" id="org4b6545e">
<div class="navbar-start" id="org9c35048">
<div class="navbar-item" id="org930f03b">
<p>
<a href="site_map.html#ID-30ea5e38-9b41-4bcd-8631-76821e93e294">üó∫</a>
</p>

</div>

</div>
<div class="navbar-end" id="orgf4bc07b">

</div>

</div>
</nav>
<div id="outline-container-org6b8e9ef" class="outline-2">
<h2 id="org6b8e9ef">Emacs</h2>
<div class="outline-text-2" id="text-org6b8e9ef">
</div>
<div id="outline-container-org4134b78" class="outline-3">
<h3 id="org4134b78">emacs notes</h3>
<div class="outline-text-3" id="text-org4134b78">
<ul class="org-ul">
<li>pgtk enabled <code>broadwayd</code> port 8080 with apps env var <code>GDK_BACKEND=broadway</code></li>
<li>magit-generate-changelog for commit msg</li>
<li>gnus needs app password from google for 2fa or oauth token from gcloud</li>
<li>webkit environment variable(s) for built-in browser
<ul class="org-ul">
<li><code>WEBKIT_FORCE_SANDBOX="0"</code></li>
</ul></li>
<li>signal-cli integration init <code>signal-cli link --name device_name | head -1 | qrencode --type=UTF8</code></li>
</ul>
</div>
<div id="outline-container-org3b966c6" class="outline-4">
<h4 id="org3b966c6"><span class="todo TODO">TODO</span> portable dumper for faster startup&#xa0;&#xa0;&#xa0;<span class="tag"><span class="emacs">emacs</span></span></h4>
</div>
<div id="outline-container-orge859808" class="outline-4">
<h4 id="orge859808"><span class="todo TODO">TODO</span> aot compile elisp packages with guix&#xa0;&#xa0;&#xa0;<span class="tag"><span class="emacs">emacs</span></span></h4>
</div>
<div id="outline-container-orgb2544bf" class="outline-4">
<h4 id="orgb2544bf">org-mode notes</h4>
<div class="outline-text-4" id="text-orgb2544bf">
<ul class="org-ul">
<li>noweb can link code verbatium with <a id="orgcfbe7fd"></a> or evaluate it with <a id="org5b9d0a9"></a>()</li>
<li><code>#+INCLUDE "file.org::selector" :only-contents t</code> to select heading contents to include from other files</li>
<li>disable tangling with <code>:tangle no</code> on src blocks</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgb9a3ddf" class="outline-3">
<h3 id="orgb9a3ddf">emacs-config README</h3>
<div class="outline-text-3" id="text-orgb9a3ddf">
<p>
This configuration relies on a few utilities.
The dependencies are: emacs, git, rg, fd, aspell, guix, gnupg/pass (password-store), vlc or mpv (emms), notification-daemon (erc), c compiler (forge) and a shell
</p>
</div>

<div id="outline-container-orga62425d" class="outline-4">
<h4 id="orga62425d">Clone</h4>
<div class="outline-text-4" id="text-orga62425d">
<p>
Branch names diverging and "." complicate fetching the correct heads.
</p>

<div class="org-src-container">
<pre class="src src-sh" id="org46923eb">git clone --single-branch --recurse-submodules --shallow-submodules --depth=1 git@github.com:jamartin9/emacs-config.git
# get branch heads
git submodule foreach 'git checkout master'
</pre>
</div>
</div>
</div>

<div id="outline-container-org28aabcb" class="outline-4">
<h4 id="org28aabcb">Tangle</h4>
<div class="outline-text-4" id="text-org28aabcb">
<p>
Emacs untangles the script from the org file (using noweb to copy/eval code).
</p>

<div class="org-src-container">
<pre class="src src-sh" id="orgde64343">pwsh make-el.ps1 install
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf682568" class="outline-4">
<h4 id="orgf682568">Link</h4>
<div class="outline-text-4" id="text-orgf682568">
<p>
Installable org files tangle to a script of the same name for installation.
The script needs itself and emacs on the PATH or CWD.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org428d50c">(ignore-errors
      (make-symbolic-link (file-name-directory (or load-file-name buffer-file-name)) (concat (file-name-as-directory (if (getenv "XDG_CONFIG_HOME") (getenv "XDG_CONFIG_HOME") (concat (file-name-as-directory (getenv "HOME")) ".config"))) "emacs")))
</pre>
</div>
</div>
</div>

<div id="outline-container-org83ba1bb" class="outline-4">
<h4 id="org83ba1bb">Run</h4>
<div class="outline-text-4" id="text-org83ba1bb">
<p>
The one line org-mode sesquicolon 'shebang' is a multipart shell/powershell wrapper.
Passed arguments to the elisp script are available by argv (ignoring ‚Äú‚Äì‚Äù and ‚Äú$@‚Äù).
To run with powershell use the same wrapper format with a .ps1 extension.
</p>

<div class="org-src-container">
<pre class="src src-sh" id="org75a2db5">":"; emacs -Q --script README.sh -- $@ $args ; exit $? # -*- mode: emacs-lisp; lexical-binding: t; -*-
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</body>
</html>