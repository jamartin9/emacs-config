<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>cryptocurrency</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="org-default.css" />
</head>
<body>
<div id="content" class="container content">
<div id="outline-container-orga7bd7ea" class="outline-2">
<h2 id="orga7bd7ea">notes</h2>
<div class="outline-text-2" id="text-orga7bd7ea">
<ul class="org-ul">
<li>fallacies of crypto haters
<ul class="org-ul">
<li>wrought with fraud so it needs 'regulation'
<ul class="org-ul">
<li>banks are the biggest scamming hucksters around and they facilitate most of financial fraud in the world within 'regulations'</li>
</ul></li>
<li>not decentralized
<ul class="org-ul">
<li>'people do not want to run their own servers' - moxie marlinspike
<ul class="org-ul">
<li>they will and do; a nakamoto number greater than 1 is still more than the status quo</li>
</ul></li>
</ul></li>
</ul></li>
<li>fallacies of crypto bros
<ul class="org-ul">
<li>'trapped energy'
<ul class="org-ul">
<li>sets lower bound on energy production price beyond the government; thus encourages more production regardless of means</li>
<li>wasting compute cycles on hashing random numbers instead of folding proteins, simulating fluid dynamics, SETI etc (need internet connection for blockchain sync); price should not be the primary factor for investing in hard research problems.</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org285ab39" class="outline-2">
<h2 id="org285ab39">chia</h2>
<div class="outline-text-2" id="text-org285ab39">
<ul class="org-ul">
<li><code>CHIA_ROOT</code> env variable configuration</li>
<li>mainnet burn <code>xch1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqm6ks6e8mvy</code>
<ul class="org-ul">
<li>sends to puzzle hash <code>0x000000000000000000000000000000000000000000000000000000000000dead</code></li>
<li>testnet burn <code>txch1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqm6ksh7qddh</code></li>
<li>may be able to melt instead</li>
</ul></li>
<li>utxo based (not account based like ethereum)</li>
<li>set env var root with <code>export CHIA_ROOT=/usr/local/chia/mainnet/</code></li>
<li>offer files for p2p exchange (atomic swaps)
<ul class="org-ul">
<li>ALL CAT v1 Offers/Coins are INVALID as of 1.5 for vulnerability that allows anyone to claim; replaced by cat v2
<ul class="org-ul">
<li>unable to control amount exploited. puzzle hash, coin amount, parent id are sha256 hashed but not validated. fixed by using shatree to validate.</li>
</ul></li>
</ul></li>
<li>proof of space and time</li>
<li>bls aggregatable signatures</li>
<li>tail emissions of 0.125 xch per block after 12 years</li>
<li>pooling protocol for self block creation</li>
<li>asic timelords</li>
<li>uses 3 'blockchains' with 1 being a transaction chain of foliage to avoid grinding the canonical trunk chain</li>
<li>compression of plots <a href="https://github.com/Chia-Network/chiapos/tree/main/hellman_example">possible</a> with <a href="https://github.com/Chia-Network/proofofspace/blob/master/proof_of_space.md#Hellman-Attacks">Hellman Attack</a> by using ram/cpu during plotting/harvesting. (tldr: throws first table away and reverses table 2 as needed)</li>
<li>chialisp
<ul class="org-ul">
<li>programmable smart contracts
<ul class="org-ul">
<li>autonomous custody with rate limiting, clawback and configurable settlement periods</li>
</ul></li>
</ul></li>
<li>chain stats dashboard.chia.net</li>
<li>xch domains
<ul class="org-ul">
<li>namesdao nft
<ul class="org-ul">
<li>webpages at <code>SevenCharName.xch.cm</code> and <code>SevenCharName.xch.am</code></li>
<li>create <code>chia wallet send -a 0.000000000001 -m 0.000000000001 -t xch1jhye8dmkhree0zr8t09rlzm9cc82mhuqtp5tlmsj4kuqvs69s2wsl90su4 -e "___SevenCharName.xch:xchYOURxchaddress" --override</code></li>
</ul></li>
</ul></li>
<li><a href="https://pawket.app/">https://pawket.app/</a> for some online chia tools. debugger coming soon&#x2026;</li>
</ul>
</div>
</div>
<div id="outline-container-org69d40ae" class="outline-2">
<h2 id="org69d40ae">monero</h2>
<div class="outline-text-2" id="text-org69d40ae">
<ul class="org-ul">
<li>use block &gt; 2,688,888 restore height for faster sync times with view tag support (resend old funds etc)</li>
<li>supports tor with sending tx's and wallets
<ul class="org-ul">
<li><code>tx-proxy</code> for sending transactions</li>
<li><code>anonymous-inbound</code> allow inbound transactions</li>
</ul></li>
<li>randomx for POW algorithm
<ul class="org-ul">
<li>ASIC resistance may not be stable long term</li>
</ul></li>
<li>tail emissions of 0.6 XMR per block</li>
<li>variable block sizes
<ul class="org-ul">
<li>potential difficulty/timestamp grinding but at cost</li>
</ul></li>
<li>p2pool for distributed block creation
<ul class="org-ul">
<li>needs zmq enabled monerod</li>
<li>bundled with gui in 0.18</li>
</ul></li>
<li>ringct
<ul class="org-ul">
<li>bulletproofs</li>
<li>ring signatures to obsurce sender, amount, recipient
<ul class="org-ul">
<li>can still trace 'outputs' if you are the sends (alice bob alice attack) or if network is deanonymized (exchanges/users publish view keys, block reward before if enters txo set, transaction fee correlation)
<ul class="org-ul">
<li>churn to avoid and create noise</li>
</ul></li>
</ul></li>
</ul></li>
<li>stealth addresses
<ul class="org-ul">
<li>random 1 time addresses for every transaction</li>
</ul></li>
<li>Dandelion++
<ul class="org-ul">
<li>transaction broadcast and peer sampling to prevent tracing tx origins</li>
</ul></li>
<li>No light/SPV clients
<ul class="org-ul">
<li>view tags since v0.18</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgbaf095a" class="outline-2">
<h2 id="orgbaf095a">bitcoin</h2>
<div class="outline-text-2" id="text-orgbaf095a">
<ul class="org-ul">
<li>double sha256</li>
<li>fixed block size</li>
<li>fixed supply 21m</li>
<li>lightning
<ul class="org-ul">
<li>hash time locked contacts
<ul class="org-ul">
<li>moving to point time locked contracts</li>
</ul></li>
<li>rebalance incoming/outgoing channels for sending/receiving/routing</li>
<li>preimage based</li>
<li>watchtowers
<ul class="org-ul">
<li>monitor channel transactions and punish bad actors incase of attack on your node (publishing false state to chain) by publishing new state and penalizing</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgf0d6ab1" class="outline-2">
<h2 id="orgf0d6ab1">btcpayserver</h2>
<div class="outline-text-2" id="text-orgf0d6ab1">
<ul class="org-ul">
<li>crypto payment server that supports invoices (multiple payments, refunds, tolerances etc)</li>
<li>xmr config requires the view only wallet.keys, wallet and password file be available before sync can complete</li>
<li>sync MUST be completed before the FIRST store can be created</li>
</ul>
<div class="org-src-container">
<pre class="src src-yaml" id="org04e0c51">apiVersion: apps/v1
kind: Deployment
metadata:
  name: btcpay-deployment
  labels:
    app: btcpay
spec:
  replicas: 1
  selector:
    matchLabels:
      app: btcpay
  template:
    metadata:
      labels:
	app: btcpay
    spec:
      volumes:
      - name: btcpay-data
	hostPath:
	  path: /storage/btcpay/btcpay-data
      - name: btcpay-plugins
	hostPath:
	  path: /storage/btcpay/btcpay-plugins
      - name: postgres-data
	hostPath:
	  path: /storage/btcpay/btcpay-postgres
      - name: monero-config
	hostPath:
	  path: /storage/btcpay/btcpay-bitmonero
      - name: monero-wallet
	hostPath:
	  path: /storage/btcpay/btcpay-xmr-wallet
      containers:
      - name: btcpay
	image: btcpayserver/btcpayserver:1.6.9-altcoins
	volumeMounts:
	- name: btcpay-data
	  mountPath: /datadir
	- name: btcpay-plugins
	  mountPath: /root/.btcpayserver/Plugins
	- name: monero-wallet
	  mountPath: /root/xmr_wallet
	env:
	- name: BTCPAY_POSTGRES
	  value: "User ID=postgres;Host=127.0.0.1;Port=5432;Application Name=btcpayserver;Database=btcpayserver"
	- name: BTCPAY_NETWORK
	  value: regtest
	- name: BTCPAY_BIND
	  value: 0.0.0.0:49392
	- name: BTCPAY_ROOTPATH
	  value: /
	- name: BTCPAY_SSHCONNECTION
	  value: "root@host.docker.internal"
	- name: BTCPAY_SSHTRUSTEDFINGERPRINTS
	  value: ""
	- name: BTCPAY_SSHKEYFILE
	  value: ""
	- name: BTCPAY_SSHAUTHORIZEDKEYS
	  value: ""
	- name: BTCPAY_DEBUGLOG
	  value: btcpay.log
	- name: BTCPAY_UPDATEURL
	  value: https://api.github.com/repos/btcpayserver/btcpayserver/releases/latest
	- name: BTCPAY_DOCKERDEPLOYMENT
	  value: "true"
	- name: BTCPAY_CHAINS
	  value: "xmr"
	- name: BTCPAY_XMR_DAEMON_URI
	  value: http://127.0.0.1:18081
	- name: BTCPAY_XMR_WALLET_DAEMON_URI
	  value: http://127.0.0.1:18082
	- name: BTCPAY_XMR_WALLET_DAEMON_WALLETDIR
	  value: /root/xmr_wallet
	ports:
	- name: btcpay-port
	  containerPort: 49392
	  hostPort: 49392
      - name: monerod
	image: btcpayserver/monero:0.18.1.0-amd64 # needs Containerfile with EXPOSE 18084 for p2pool zmq
	volumeMounts:
	- name: monero-config
	  mountPath: /home/monero/.bitmonero
	args: ["--no-zmq", "--rpc-bind-ip=0.0.0.0", "--confirm-external-bind", "--rpc-bind-port=18081", "--non-interactive", "--hide-my-port", "--prune-blockchain", "--disable-dns-checkpoints", "--enable-dns-blocklist", "--block-notify", "/bin/sh ./scripts/notifier.sh -X GET http://127.0.0.1:49392/monerolikedaemoncallback/block?cryptoCode=xmr&amp;hash=%s"] # "--zmq-pub", "tcp://127.0.0.1:18084", "--limit-rate-up", "800", "--out-peers", "30",
	command: ["monerod"]
	ports:
	- name: monero-rpc
	  containerPort: 18081
	  hostPort: 18081
      - name: monerod-wallet
	image: btcpayserver/monero:0.18.1.0-amd64
	volumeMounts:
	- name: monero-wallet
	  mountPath: /wallet
	args: ["--rpc-bind-ip=0.0.0.0", "--disable-rpc-login", "--confirm-external-bind", "--rpc-bind-port=18082", "--non-interactive", "--trusted-daemon", "--daemon-address=127.0.0.1:18081", "--wallet-file=/wallet/wallet", "--password-file=/wallet/password", "--tx-notify", "/bin/sh ./scripts/notifier.sh  -X GET http://127.0.0.1:49392/monerolikedaemoncallback/tx?cryptoCode=xmr&amp;hash=%s"]
	command: ["monero-wallet-rpc"]
	ports:
	- name: monero-daemon-rpc
	  containerPort: 18082
	  hostPort: 18082
      - name: postgres
	image: btcpayserver/postgres:13.7
	volumeMounts:
	- name: postgres-data
	  mountPath: /var/lib/postgresql/data
	args: ["-c", "random_page_cost=1.0", "-c", "shared_preload_libraries=pg_stat_statements"]
	env:
	- name: POSTGRES_HOST_AUTH_METHOD
	  value: trust
	ports:
	- name: postgres-port
	  containerPort: 5432
	  hostPort: 5432
</pre>
</div>
</div>
</div>
</div>
</body>
</html>
