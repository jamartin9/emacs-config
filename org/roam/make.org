:PROPERTIES:
:ID:       7c407252-45a1-41a6-901a-cfdb19a6ac36
:END:
#+title: make
#+OPTIONS: toc:nil num:nil date:nil \n:nil html-style:nil author:nil timestamp:nil title:nil html-postamble:nil html5-fancy:t
#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="org-default.css" />
#+HTML_CONTENT_CLASS: container content
#+HTML_DOCTYPE: html5
#+INCLUDE: "css.org::navbar" :only-contents t
* make
** snippets
*** makefile for emacs site
#+NAME: clone
#+BEGIN_SRC makefile :tangle no
EMACS_PROG ?= emacs # emacsclient
EMACS_FLAGS ?= -nw --no-splash --kill # -Q --batch
EMACS_CMD ::= $(EMACS_PROG) $(EMACS_FLAGS)

ORG_FILES ::= $(wildcard *.org)
FILES ::=
FILES += $(patsubst %.org, %.html, $(ORG_FILES)) # html

.PHONY: all prune clean

all: $(FILES)

prune:
	rm -f *.html\~

clean : prune
	rm -f *.html

%.html : %.org
	$(EMACS_CMD) $< -f org-html-export-to-html
#+END_SRC
